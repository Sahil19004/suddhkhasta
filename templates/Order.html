<!doctype html>
{% load static %}
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SUDDKHASTA | Orders</title>
  <meta name="description" content="Handcrafted premium cookies made with organic ingredients and traditional recipes. Experience cookie perfection with every bite.">

  <!-- Preload critical assets -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Plus+Jakarta+Sans:wght@300;400;500;600&display=swap" as="style">
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" as="style">
  <link rel="preload" href="style.css" as="style">
  <link rel="preload" href="script.js" as="script">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Plus+Jakarta+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üç™</text></svg>">

  <!-- Styles -->
  <link rel="stylesheet" href="../static/css/style.css" />
</head>
<body>
  <!-- Floating cookie particles -->
  <canvas id="cookie-canvas" aria-hidden="true"></canvas>

  <!-- Preloader -->
  <div class="preloader">
    <div class="preloader-cookie">
      <div class="chips"></div>
      <div class="chips"></div>
      <div class="chips"></div>
      <div class="chips"></div>
    </div>
  </div>

  <!-- ===== NAVBAR ===== -->
  <header class="nav-wrap">
    <nav class="navbar" role="navigation" aria-label="Primary">
      <!-- Brand Logo with SVG -->
      <div class="brand">
        <svg class="logo-icon" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 6.76 14.27 8 18 8c1.21 0 2.37-.21 3.44-.59-.38 3.29-2.89 5.86-6.03 6.67-.19.05-.39.08-.59.1-.2.02-.4.03-.6.03-.4 0-.8-.04-1.19-.12-1.33-.26-2.57-.83-3.61-1.67.5 2.39 1.93 4.46 3.99 5.79.33.21.69.38 1.06.52-.37.19-.76.35-1.16.48z"/>
        </svg>
        <span>SUDDKHASTA</span>
      </div>

      <!-- Mobile Menu Toggle -->

      <!-- Navigation Links -->
        <ul class="nav-links" role="menubar">
        <li><a href="/" role="menuitem" data-text="Home">Home</a></li>
        <li><a href="" role="menuitem" data-text="Collections">Collections</a></li>
        <li><a href="{% url 'about' %}" role="menuitem" data-text="Our Story">About us</a></li>
        <!-- <li><a href="#gifting" role="menuitem" data-text="Gifting">Gifting</a></li>
        <li><a href="#visit" role="menuitem" data-text="Visit Us">Visit Us</a></li> -->
        <li><a href="{% url 'orderpage' %}" role="menuitem" data-text="Collections">Orders</a></li>
        <li><a href="TrackOrder.html" role="menuitem" data-text="Our Story">Track your order</a></li>
        <!-- <li><a href="Return.html" role="menuitem" data-text="Gifting">Return Policy</a></li> -->
        <li><a href="{% url 'shippingpol' %}" role="menuitem" data-text="Visit Us">Shipping Policy</a></li>
        <li><a href="{% url 'contact' %}" role="menuitem" data-text="Our Story">Contact us</a></li>
        <li><a href="{% url 'terms' %}" role="menuitem" data-text="Gifting">Terms of Service</a></li>
      </ul>

      <!-- Icons -->
      <div class="icons">
        <!-- <a href="#search" aria-label="Search"><i class="fa-solid fa-magnifying-glass"></i></a> -->
         {% if request.user.is_authenticated %}
        <a href="{% url 'logout' %}" aria-label="Account"><i class="fa-solid fa-right-from-bracket"></i></a>
        {% else %}
        <a href="{% url 'login' %}" aria-label="Account"><i class="fa-regular fa-user"></i></a>
        {% endif %}
        <a href="/cart" aria-label="Cart" class="cart-icon">
          <i class="fa-solid fa-basket-shopping"></i>
          <span class="cart-count">{{cart_count|default:0}}</span>
        </a>
      </div>
      <button class="hamburger" aria-label="Toggle Menu">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
      </button>
    </nav>
  </header>

  <!-- Main Content -->
<main class="orders-main">
    <div class="container">
        <!-- Page Header -->
        <section class="orders-header">
            <h1>My Orders</h1>
            <p>Review your cookie purchase history and order details</p>
            <div class="orders-filter">
                <a href="?filter=all" class="filter-btn {% if current_filter == 'all' %}active{% endif %}">
                    All Orders ({{ filter_counts.all }})
                </a>
                <a href="?filter=delivered" class="filter-btn {% if current_filter == 'delivered' %}active{% endif %}">
                    Delivered ({{ filter_counts.delivered }})
                </a>
                <a href="?filter=processing" class="filter-btn {% if current_filter == 'processing' %}active{% endif %}">
                    Processing ({{ filter_counts.processing }})
                </a>
                <a href="?filter=cancelled" class="filter-btn {% if current_filter == 'cancelled' %}active{% endif %}">
                    Cancelled ({{ filter_counts.cancelled }})
                </a>
            </div>
        </section>
        <!-- Orders List -->
        <section class="orders-list">
            {% if orders %}
                {% for order_data in orders %}
                <div class="order-card">
                    <!-- Order Header -->
                    <div class="order-header">
                        <div class="order-info">
                            <h3 class="order-number">Order #{{ order_data.order_number }}</h3>
                            <p class="order-date">Placed on {{ order_data.created_at|date:"M d, Y" }}</p>
                            <p class="tracking-id">Tracking ID: {{ order_data.tracking_id }}</p>
                        </div>
                        <div class="order-status">
                            <span class="status-badge {{ order_data.status_class }}">
                                {{ order_data.status_display }}
                            </span>
                            <span class="payment-status {{ order_data.payment_status }}">
                                {{ order_data.payment_status_display }}
                            </span>
                        </div>
                    </div>
                    
                    <!-- Order Items -->
                     
                    <div class="order-items">
                        {% for item in order_data.items %}
                        {{item}}
                        <div class="order-item">
                            {% if item.image_url %}
                            <div class="item-image">
                                <img src="{{ item.image_url }}" alt="{{ item.product_name }}">
                            </div>
                            {% else %}
                            <div class="item-image">
                                <div class="no-image">
                                    <i class="fas fa-cookie"></i>
                                </div>
                            </div>
                            {% endif %}
                            <div class="item-info">
                                <h4 class="item-name">{{ item.product_name }}</h4>
                                <p class="item-quantity">Quantity: {{ item.quantity }}</p>
                                <p class="item-price">‚Çπ{{ item.price|floatformat:2 }} each</p>
                            </div>
                            <div class="item-total">
                                <span class="price">‚Çπ{{ item.total|floatformat:2 }}</span>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    
                    <!-- Order Footer -->
                    <div class="order-footer">
                        <div class="order-total">
                            <strong>Total: ‚Çπ{{ order_data.total_amount|floatformat:2 }}</strong>
                            <span class="item-count">{{ order_data.item_count }} item{{ order_data.item_count|pluralize }}</span>
                            <span class="payment-method">{{ order_data.payment_method }}</span>
                        </div>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <!-- Empty State -->
                <section class="orders-empty">
                    <div class="empty-icon">
                        <i class="fas fa-shopping-bag"></i>
                    </div>
                    <h2>
                        {% if current_filter == 'all' %}
                            No Orders Yet
                        {% else %}
                            No {{ current_filter }} orders
                        {% endif %}
                    </h2>
                    <p>
                        {% if current_filter == 'all' %}
                            You haven't placed any orders yet. Start shopping to see your orders here!
                        {% else %}
                            You don't have any {{ current_filter }} orders at the moment.
                        {% endif %}
                    </p>
                    {% if current_filter == 'all' %}
                    <a href="/products/" class="cta-primary">Start Shopping</a>
                    {% else %}
                    <a href="?filter=all" class="cta-primary">View All Orders</a>
                    {% endif %}
                </section>
            {% endif %}
        </section>

        <!-- Order Status Legend -->
        {% if orders %}
        <div class="order-status-legend">
            <h4>Order Status Guide:</h4>
            <div class="legend-items">
                <div class="legend-item">
                    <span class="status-badge pending">Pending</span>
                    <span>Order received, awaiting confirmation</span>
                </div>
                <div class="legend-item">
                    <span class="status-badge processing">Processing</span>
                    <span>Order being prepared</span>
                </div>
                <div class="legend-item">
                    <span class="status-badge shipped">Shipped</span>
                    <span>Order on the way</span>
                </div>
                <div class="legend-item">
                    <span class="status-badge delivered">Delivered</span>
                    <span>Order completed</span>
                </div>
                <div class="legend-item">
                    <span class="status-badge cancelled">Cancelled</span>
                    <span>Order cancelled</span>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</main>

  <!-- Footer -->
 <footer class="footer">
  <div class="footer-container">
    <!-- Brand Section -->
    <div class="footer-brand">
      <div class="brand">
        <svg class="logo-icon" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 6.76 14.27 8 18 8c1.21 0 2.37-.21 3.44-.59-.38 3.29-2.89 5.86-6.03 6.67-.19.05-.39.08-.59.1-.2.02-.4.03-.6.03-.4 0-.8-.04-1.19-.12-1.33-.26-2.57-.83-3.61-1.67.5 2.39 1.93 4.46 3.99 5.79.33.21.69.38 1.06.52-.37.19-.76.35-1.16.48z"/>
        </svg>
        <span>SuddhKhasta</span>
      </div>
      <p class="footer-text">
        Pure. Authentic. Traditional.<br>
        The taste of heritage in every bite.
      </p>
      <div class="social-links">
        <a href="#" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
        <a href="#" aria-label="Facebook"><i class="fa-brands fa-facebook-f"></i></a>
        <a href="#" aria-label="Twitter"><i class="fa-brands fa-x-twitter"></i></a>
        <a href="#" aria-label="Pinterest"><i class="fa-brands fa-pinterest-p"></i></a>
      </div>
    </div>

    <!-- Footer Links -->
    <div class="footer-links">
      <div class="links-column">
        <h3 class="links-title">Shop</h3>
        <ul>
          <li><a href="{% url 'orderpage' %}">All Products</a></li>
          <li><a href="#">Collections</a></li>
          <li><a href="#">Gift Boxes</a></li>
          <li><a href="#">Festive Specials</a></li>
        </ul>
      </div>

      <div class="links-column">
        <h3 class="links-title">About</h3>
        <ul>
          <li><a href="{% url 'about' %}">Our Story</a></li>
          <li><a href="#">Our Craft</a></li>
          <li><a href="#">Quality & Purity</a></li>
          <li><a href="#">Sustainability</a></li>
        </ul>
      </div>

      <div class="links-column">
        <h3 class="links-title">Help</h3>
        <ul>
          <li><a href="{% url 'contact' %}">Contact Us</a></li>
          <li><a href="">Shipping Policy</a></li>
          <li><a href="{% url 'shippingpol' %}">Return & Refund Policy</a></li>
          <li><a href="">Track Order</a></li>
        </ul>
      </div>
    </div>

    <!-- Contact Section -->
    <div class="footer-contact">
      <h3 class="links-title">Reach Us</h3>
      <address>
        <p><strong>SuddhKhasta</strong><br>
        B-70 A, Lajpat Nagar, Sahibabad<br>
        Ghaziabad, U.P. 201005</p>
        <p><strong>Open:</strong> 10AM ‚Äì 8PM Daily</p>
        <p><a href="tel:+919319677381">+91 9319677381</a></p>
        <p><a href="mailto:suddhkhasta3@gmail.com">suddhkhasta3@gmail.com</a></p>
      </address>
    </div>
  </div>

  <!-- Footer Bottom -->
  <div class="footer-bottom">
    <div class="footer-legal">
      <p>&copy; 2025 SuddhKhasta. All rights reserved.</p>
      <div class="legal-links">
        <a href="#">Privacy Policy</a>
        <a href="{% url 'terms' %}">Terms of Service</a>
        <a href="{% url 'shippingpol' %}">Shipping Policy</a>
      </div>
    </div>

    <div class="payment-methods">
      <i class="fa-brands fa-cc-visa" aria-label="Visa"></i>
      <i class="fa-brands fa-cc-mastercard" aria-label="Mastercard"></i>
      <i class="fa-brands fa-cc-amex" aria-label="American Express"></i>
      <i class="fa-brands fa-cc-paypal" aria-label="PayPal"></i>
      <i class="fa-brands fa-google-pay" aria-label="Google Pay"></i>
    </div>
  </div>
</footer>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="../static/js/script.js"></script>
</body>
</html>